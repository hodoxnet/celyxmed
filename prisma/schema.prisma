// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
  output   = "../src/generated/prisma"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

// Admin kullanıcı modeli
model User {
  id            String      @id @default(cuid())
  name          String?
  email         String      @unique
  password      String  // Hash'lenmiş şifre
  role          Role        @default(USER)
  createdAt     DateTime    @default(now())
  updatedAt     DateTime    @updatedAt
}

// Kullanıcı rolleri
enum Role {
  USER
  ADMIN
}

// Oturum modeli
model Session {
  id           String   @id @default(cuid())
  userId       String
  expires      DateTime
  sessionToken String   @unique
  createdAt    DateTime @default(now())
  updatedAt    DateTime @updatedAt
}

// Desteklenen diller modeli
model Language {
  id        String  @id @default(cuid())
  code      String  @unique // Dil kodu (örn: 'en', 'tr')
  name      String  // Dilin tam adı (örn: 'English', 'Türkçe')
  isActive  Boolean @default(true) // Dilin sitede aktif olup olmadığını belirtir
  isDefault Boolean @default(false) // Varsayılan dil olup olmadığını belirtir (sadece biri true olabilir)
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  blogTranslations BlogTranslation[]
  hizmetTranslations HizmetTranslation[] // Yeniden adlandırıldı ve HizmetTranslation'a bağlandı

  // Çevirisi yapılacak alt öğeler için dil ilişkileri
  hizmetOverviewTabTranslations HizmetOverviewTabTranslation[]
  hizmetWhyItemTranslations     HizmetWhyItemTranslation[]
  hizmetTestimonialTranslations HizmetTestimonialTranslation[]
  hizmetRecoveryItemTranslations HizmetRecoveryItemTranslation[]
  hizmetExpertItemTranslations  HizmetExpertItemTranslation[]
  hizmetPricingPackageTranslations HizmetPricingPackageTranslation[]
  generalSettingTranslations GeneralSettingTranslation[]
  heroContentTranslations HeroContentTranslation[]
  whyChooseSectionTranslations WhyChooseSectionTranslation[]

  // Rota çevirileri ilişkisi
  routeTranslations RouteTranslation[]

  // Menü Yönetimi İlişkileri
  headerMenuItemTranslations HeaderMenuItemTranslation[]
  footerMenuItemTranslations FooterMenuItemTranslation[]
  headerMenuTranslations HeaderMenuTranslation[]
  footerMenuTranslations FooterMenuTranslation[]

  // Yeni Treatment Section İlişkileri
  treatmentSectionContentTranslations TreatmentSectionContentTranslation[]
  treatmentSectionItemTranslations    TreatmentSectionItemTranslation[]

  // Clinic Showcase İlişkisi
  clinicShowcaseTranslations ClinicShowcaseTranslation[]

  // Why Trust Section İlişkileri
  whyTrustSectionTranslations WhyTrustSectionTranslation[]
  whyTrustPointTranslations   WhyTrustPointTranslation[]

  // Success Stories Section İlişkileri
  successStoriesSectionTranslations SuccessStoriesSectionTranslation[]
  successStoriesTestimonialTranslations SuccessStoriesTestimonialTranslation[]

  // Consult Online Section İlişkileri
  consultOnlineSectionTranslations ConsultOnlineSectionTranslation[]

  // SSS İlişkileri
  faqTranslations FaqTranslation[]

  // Ana Sayfa Özellik Sekmeleri İlişkileri
  homePageFeatureTabItemTranslations HomePageFeatureTabItemTranslation[]
}

// URL rota çevirileri modeli
model RouteTranslation {
  id              String   @id @default(cuid())
  routeKey        String   // Ana rota adı (örn: 'hizmetler', 'blog', 'iletisim')
  language        Language @relation(fields: [languageCode], references: [code], onDelete: Cascade)
  languageCode    String
  translatedValue String   // Çevrilmiş değer (örn: 'services', 'blog', 'contact')
  createdAt       DateTime @default(now())
  updatedAt       DateTime @updatedAt

  @@unique([routeKey, languageCode]) // Her dil için her rota adı benzersiz olmalı
}

// Blog modeli
model Blog {
  id            String   @id @default(cuid())
  coverImageUrl String?
  isPublished   Boolean  @default(false)
  publishedAt   DateTime?
  createdAt     DateTime @default(now())
  updatedAt     DateTime @updatedAt
  translations  BlogTranslation[]
  headerMenuItems HeaderMenuItem[] @relation("HeaderMenuToBlogPost")
  footerMenuItems FooterMenuItem[] @relation("FooterMenuToBlogPost")
}

// Blog çevirileri modeli
model BlogTranslation {
  id              String   @id @default(cuid())
  slug            String?
  title           String
  fullDescription String
  content         String   @db.Text
  tocItems        Json?
  blog            Blog     @relation(fields: [blogId], references: [id], onDelete: Cascade)
  blogId          String
  language        Language @relation(fields: [languageCode], references: [code], onDelete: Cascade)
  languageCode    String
  @@unique([blogId, languageCode])
}

// ----- HİZMET MODELLERİ YENİ YAPI -----

// Hizmet Ana Modeli (Dil Bağımsız)
model Hizmet {
  id            String   @id @default(cuid())
  published     Boolean  @default(false)
  createdAt     DateTime @default(now())
  updatedAt     DateTime @updatedAt

  // --- Dil Bağımsız Temel Resimler ---
  heroImageUrl          String?
  heroImageAlt          String? // Ana/varsayılan alt text
  whyBackgroundImageUrl String?
  ctaBackgroundImageUrl String?
  ctaMainImageUrl       String?
  ctaMainImageAlt       String? // Ana/varsayılan alt text
  introVideoId          String? // Buraya taşındı

  // --- Dil Bağımsız Resim Koleksiyonları ---
  marqueeImages HizmetMarqueeImage[]
  galleryImages HizmetGalleryImage[]
  ctaAvatars    HizmetCtaAvatar[]

  // --- Dil Bağımsız Yapısal Öğeler (Metinleri çevrilecek) ---
  overviewTabDefinitions HizmetOverviewTabDefinition[]
  whyItemDefinitions     HizmetWhyItemDefinition[]
  testimonialDefinitions HizmetTestimonialDefinition[]
  recoveryItemDefinitions HizmetRecoveryItemDefinition[]
  expertItemDefinitions  HizmetExpertItemDefinition[]
  pricingPackageDefinitions HizmetPricingPackageDefinition[]


  // --- Çeviriler ---
  translations HizmetTranslation[]
  headerMenuItems HeaderMenuItem[] @relation("HeaderMenuToHizmet")
  footerMenuItems FooterMenuItem[] @relation("FooterMenuToHizmet")
}

// Hizmet Çeviri Modeli (Dile Özgü Metinler)
model HizmetTranslation {
  id        String   @id @default(cuid())
  hizmet    Hizmet   @relation(fields: [hizmetId], references: [id], onDelete: Cascade)
  hizmetId  String
  language  Language @relation(fields: [languageCode], references: [code], onDelete: Cascade)
  languageCode String

  // --- Dile Özgü Metinsel Alanlar ---
  slug        String   // URL parçası (dil ile birlikte unique)
  breadcrumb  String   // Sayfa üstü navigasyon yolu
  title       String   // Hizmet Başlığı
  description String   // Hizmet Kısa Açıklama

  // --- Hero Alanı (Metinler) ---
  // heroImageUrl ve heroImageAlt Hizmet modeline taşındı

  // --- İçindekiler ve Sağ CTA Alanı (TocAndCtaSection) (Metinler) ---
  tocTitle          String
  tocAuthorInfo     String?
  tocCtaDescription String
  // tocItems ilişkisi aşağıda, HizmetTranslation'a bağlı kalacak

  // --- Resim Marquee (Kaydırmalı Resimler) ---
  // marqueeImages ilişkisi Hizmet modeline taşındı

  // --- Tedavi Tanıtım Alanı (TreatmentIntroSection) (Metinler) ---
  introTitle              String
  introDescription        String
  introPrimaryButtonText  String
  introPrimaryButtonLink  String
  introSecondaryButtonText String
  introSecondaryButtonLink String
  // introLinks ilişkisi aşağıda, HizmetTranslation'a bağlı kalacak

  // --- Tedaviye Genel Bakış (TreatmentOverview) (Ana Başlıklar) ---
  overviewSectionTitle       String // Bölümün genel başlığı
  overviewSectionDescription String?
  // overviewTabs içeriklerinin çevirileri HizmetOverviewTabTranslation'da olacak

  // --- Neden Celyxmed (WhyCelyxmed) (Ana Başlık) ---
  whySectionTitle String // Bölümün genel başlığı
  // whyItems içeriklerinin çevirileri HizmetWhyItemTranslation'da olacak
  // whyBackgroundImageUrl Hizmet modeline taşındı

  // --- Galeri (GallerySection) (Ana Başlıklar) ---
  gallerySectionTitle       String
  gallerySectionDescription String
  // galleryImages ilişkisi Hizmet modeline taşındı

  // --- Yorumlar (TestimonialsSection) (Ana Başlık) ---
  testimonialsSectionTitle String?
  // testimonials içeriklerinin çevirileri HizmetTestimonialTranslation'da olacak

  // --- Prosedür Adımları (ProcedureSteps) (Ana Başlıklar) ---
  stepsSectionTitle       String
  stepsSectionDescription String?
  // steps ilişkisi aşağıda, HizmetTranslation'a bağlı kalacak

  // --- İyileşme Bilgisi (RecoveryInfo) (Ana Başlıklar) ---
  recoverySectionTitle       String
  recoverySectionDescription String?
  // recoveryItems içeriklerinin çevirileri HizmetRecoveryItemTranslation'da olacak

  // --- Ana CTA Alanı (CtaSection) (Metinler) ---
  ctaTagline          String?
  ctaTitle            String
  ctaDescription      String
  ctaButtonText       String
  ctaButtonLink       String?
  ctaAvatarText       String?
  // ctaAvatars, ctaBackgroundImageUrl, ctaMainImageUrl Hizmet modeline taşındı

  // --- Fiyatlandırma (PricingSection) (Ana Başlıklar) ---
  pricingSectionTitle       String
  pricingSectionDescription String?
  // pricingPackages içeriklerinin çevirileri HizmetPricingPackageTranslation'da olacak

  // --- Uzmanlarla Tanışın (MeetExperts) (Ana Başlıklar) ---
  expertsSectionTitle String
  expertsTagline      String?
  // expertItems içeriklerinin çevirileri HizmetExpertItemTranslation'da olacak

  // --- Sıkça Sorulan Sorular (FaqSection) (Ana Başlıklar) ---
  faqSectionTitle       String
  faqSectionDescription String?
  // faqs ilişkisi aşağıda, HizmetTranslation'a bağlı kalacak

  // --- SEO Meta Alanları ---
  metaTitle       String?
  metaDescription String?
  metaKeywords    String?

  // --- HizmetTranslation'a Bağlı Kalan Tamamen Çeviriye Özgü Listeler ---
  tocItems       HizmetTocItem[]
  introLinks     HizmetIntroLink[]
  steps          HizmetStep[]
  faqs           HizmetFaqItem[]
  // pricingPackages ilişkisi HizmetPricingPackageDefinition/Translation'a taşındı

  @@unique([hizmetId, languageCode])
  @@unique([slug, languageCode])
}


// ----- HİZMET ALT MODELLERİ YENİ YAPI -----

// --- Doğrudan Hizmet'e Bağlı Dil Bağımsız Resim Koleksiyonları ---

model HizmetMarqueeImage {
  id        String @id @default(cuid())
  src       String
  alt       String // Ana/varsayılan alt text
  order     Int    @default(0)
  hizmet    Hizmet @relation(fields: [hizmetId], references: [id], onDelete: Cascade)
  hizmetId  String
}

model HizmetGalleryImage {
  id        String @id @default(cuid())
  src       String
  alt       String // Ana/varsayılan alt text
  order     Int    @default(0)
  hizmet    Hizmet @relation(fields: [hizmetId], references: [id], onDelete: Cascade)
  hizmetId  String
}

model HizmetCtaAvatar {
  id        String @id @default(cuid())
  src       String
  alt       String // Ana/varsayılan alt text
  order     Int    @default(0)
  hizmet    Hizmet @relation(fields: [hizmetId], references: [id], onDelete: Cascade)
  hizmetId  String
}

// --- HizmetTranslation'a Bağlı, Tamamen Çeviriye Özgü Yapısal Öğeler ---

model HizmetTocItem {
  id                  String            @id @default(cuid())
  text                String
  isBold              Boolean           @default(false)
  level               Int?
  order               Int               @default(0)
  hizmetTranslation   HizmetTranslation @relation(fields: [hizmetTranslationId], references: [id], onDelete: Cascade)
  hizmetTranslationId String
}

model HizmetIntroLink {
  id                  String            @id @default(cuid())
  targetId            String
  number              String
  text                String
  order               Int               @default(0)
  hizmetTranslation   HizmetTranslation @relation(fields: [hizmetTranslationId], references: [id], onDelete: Cascade)
  hizmetTranslationId String
}

model HizmetStep {
  id                  String            @id @default(cuid())
  title               String
  description         String
  linkText            String?
  order               Int               @default(0)
  hizmetTranslation   HizmetTranslation @relation(fields: [hizmetTranslationId], references: [id], onDelete: Cascade)
  hizmetTranslationId String
}

model HizmetFaqItem {
  id                  String            @id @default(cuid())
  question            String
  answer              String            @db.Text
  order               Int               @default(0)
  hizmetTranslation   HizmetTranslation @relation(fields: [hizmetTranslationId], references: [id], onDelete: Cascade)
  hizmetTranslationId String
}


// --- Karmaşık Alt Öğeler: Definition (Dil Bağımsız) ve Translation (Dile Özgü Metin) ---

// Genel Bakış Tab'ı
model HizmetOverviewTabDefinition {
  id          String    @id @default(cuid())
  hizmet      Hizmet    @relation(fields: [hizmetId], references: [id], onDelete: Cascade)
  hizmetId    String
  value       String    // Tab için unique bir değer (örn: "tab1")
  imagePath   String?   // Dil bağımsız resim
  imageAlt    String?   // Ana/varsayılan alt text
  order       Int       @default(0)
  translations HizmetOverviewTabTranslation[]
  @@unique([hizmetId, value]) // Bir hizmet içinde tab value'ları unique olmalı
}
model HizmetOverviewTabTranslation {
  id            String                      @id @default(cuid())
  definition    HizmetOverviewTabDefinition @relation(fields: [definitionId], references: [id], onDelete: Cascade)
  definitionId  String
  language      Language                    @relation(fields: [languageCode], references: [code], onDelete: Cascade)
  languageCode  String
  triggerText   String    // Tab başlığı (buton metni)
  title         String    // İçerik başlığı
  content       String    @db.Text
  buttonText    String
  buttonLink    String?
  @@unique([definitionId, languageCode])
}

// Neden Celyxmed Öğesi
model HizmetWhyItemDefinition {
  id          String    @id @default(cuid())
  hizmet      Hizmet    @relation(fields: [hizmetId], references: [id], onDelete: Cascade)
  hizmetId    String
  number      String    // Dil bağımsız numara/sıra
  order       Int       @default(0)
  translations HizmetWhyItemTranslation[]
}
model HizmetWhyItemTranslation {
  id            String                    @id @default(cuid())
  definition    HizmetWhyItemDefinition   @relation(fields: [definitionId], references: [id], onDelete: Cascade)
  definitionId  String
  language      Language                  @relation(fields: [languageCode], references: [code], onDelete: Cascade)
  languageCode  String
  title         String
  description   String
  @@unique([definitionId, languageCode])
}

// Hizmete Özel Yorum
model HizmetTestimonialDefinition {
  id          String    @id @default(cuid())
  hizmet      Hizmet    @relation(fields: [hizmetId], references: [id], onDelete: Cascade)
  hizmetId    String
  stars       Int       @default(5) // Dil bağımsız
  imageUrl    String?   // Dil bağımsız resim
  order       Int       @default(0)
  translations HizmetTestimonialTranslation[]
}
model HizmetTestimonialTranslation {
  id            String                         @id @default(cuid())
  definition    HizmetTestimonialDefinition    @relation(fields: [definitionId], references: [id], onDelete: Cascade)
  definitionId  String
  language      Language                       @relation(fields: [languageCode], references: [code], onDelete: Cascade)
  languageCode  String
  text          String
  author        String
  treatment     String? // Tedavi adı (çevrilebilir)
  @@unique([definitionId, languageCode])
}

// İyileşme Bilgisi Öğesi
model HizmetRecoveryItemDefinition {
  id          String    @id @default(cuid())
  hizmet      Hizmet    @relation(fields: [hizmetId], references: [id], onDelete: Cascade)
  hizmetId    String
  imageUrl    String    // Dil bağımsız resim
  imageAlt    String    // Ana/varsayılan alt text
  order       Int       @default(0)
  translations HizmetRecoveryItemTranslation[]
}
model HizmetRecoveryItemTranslation {
  id            String                          @id @default(cuid())
  definition    HizmetRecoveryItemDefinition    @relation(fields: [definitionId], references: [id], onDelete: Cascade)
  definitionId  String
  language      Language                        @relation(fields: [languageCode], references: [code], onDelete: Cascade)
  languageCode  String
  title         String
  description   String
  @@unique([definitionId, languageCode])
}

// Fiyatlandırma Paketi
model HizmetPricingPackageDefinition {
  id          String    @id @default(cuid())
  hizmet      Hizmet    @relation(fields: [hizmetId], references: [id], onDelete: Cascade)
  hizmetId    String
  isFeatured  Boolean   @default(false) // Dil bağımsız
  order       Int       @default(0)
  translations HizmetPricingPackageTranslation[]
}
model HizmetPricingPackageTranslation {
  id            String                            @id @default(cuid())
  definition    HizmetPricingPackageDefinition    @relation(fields: [definitionId], references: [id], onDelete: Cascade)
  definitionId  String
  language      Language                          @relation(fields: [languageCode], references: [code], onDelete: Cascade)
  languageCode  String
  title         String
  price         String   // Fiyat (metin olarak, çevrilebilir)
  features      String[] // Özellikler listesi (çevrilebilir)
  @@unique([definitionId, languageCode])
}

// Hizmete Özel Uzman
model HizmetExpertItemDefinition {
  id          String    @id @default(cuid())
  hizmet      Hizmet    @relation(fields: [hizmetId], references: [id], onDelete: Cascade)
  hizmetId    String
  imageUrl    String    // Dil bağımsız resim
  imageAlt    String    // Ana/varsayılan alt text
  order       Int       @default(0)
  translations HizmetExpertItemTranslation[]
}
model HizmetExpertItemTranslation {
  id            String                        @id @default(cuid())
  definition    HizmetExpertItemDefinition    @relation(fields: [definitionId], references: [id], onDelete: Cascade)
  definitionId  String
  language      Language                      @relation(fields: [languageCode], references: [code], onDelete: Cascade)
  languageCode  String
  name          String
  title         String    // Uzmanlık alanı/unvanı
  description   String
  ctaText       String?
  @@unique([definitionId, languageCode])
}

// ----- GENEL AYARLAR MODELLERİ -----

// Genel Ayarlar Ana Modeli (Dil Bağımsız)
model GeneralSetting {
  id                String   @id @default(cuid())
  faviconUrl        String?  // Favicon dosyasının URL'si
  logoUrl           String?  // Logo dosyasının URL'si
  whatsappNumber    String?
  phoneNumber       String?
  emailAddress      String?
  fullAddress       String?  @db.Text
  googleMapsEmbed   String?  @db.Text // Google Maps iframe kodu

  createdAt         DateTime @default(now())
  updatedAt         DateTime @updatedAt

  translations      GeneralSettingTranslation[]
}

// Genel Ayarlar Çeviri Modeli (Dile Özgü Metinler ve Linkler)
model GeneralSettingTranslation {
  id                  String         @id @default(cuid())
  generalSetting      GeneralSetting @relation(fields: [generalSettingId], references: [id], onDelete: Cascade)
  generalSettingId    String
  language            Language       @relation(fields: [languageCode], references: [code], onDelete: Cascade)
  languageCode        String

  // Header Buton Alanı
  headerButtonText    String?
  headerButtonLink    String?

  // Sosyal Medya Alanları
  socialYoutubeUrl    String?
  socialInstagramUrl  String?
  socialTiktokUrl     String?
  socialFacebookUrl   String?
  socialLinkedinUrl   String?

  // Copyright Alanı
  copyrightText       String?

  // Anasayfa Sticky İletişim Butonu
  stickyButtonText    String?
  stickyButtonLink    String?

  createdAt           DateTime       @default(now())
  updatedAt           DateTime       @updatedAt

  @@unique([generalSettingId, languageCode])
}

// ----- ANA SAYFA HERO ALANI MODELLERİ -----

// Ana Sayfa Hero Alanı İçeriği (Tek Kayıt Olacak)
model HeroContent {
  id           String   @id @default("main") // Sabit ID, sadece bir tane olacak
  createdAt    DateTime @default(now())
  updatedAt    DateTime @updatedAt
  translations HeroContentTranslation[]
  images       HeroBackgroundImage[]
}

// Hero Alanı Çevirileri (Dile özgü metinler)
model HeroContentTranslation {
  id              String      @id @default(cuid())
  heroContent     HeroContent @relation(fields: [heroContentId], references: [id], onDelete: Cascade)
  heroContentId   String      // Sabit olarak "main" olacak
  language        Language    @relation(fields: [languageCode], references: [code], onDelete: Cascade)
  languageCode    String

  title           String?     // Başlık (opsiyonel olabilir, statik bileşenden alınabilir)
  description     String?     @db.Text // Açıklama (opsiyonel)
  button1Text     String?
  button1Link     String?
  button2Text     String?
  button2Link     String?

  @@unique([heroContentId, languageCode])
}

// Hero Alanı Arka Plan Resimleri (Çoklu resim)
model HeroBackgroundImage {
  id            String      @id @default(cuid())
  imageUrl      String      // Resim URL'si
  order         Int         @default(0) // Sıralama
  isActive      Boolean     @default(true) // Resmin aktif olup olmadığı
  heroContent   HeroContent @relation(fields: [heroContentId], references: [id], onDelete: Cascade)
  heroContentId String      // Sabit olarak "main" olacak
  createdAt     DateTime    @default(now())
  updatedAt     DateTime    @updatedAt
}

// Ana Sayfa Why Choose Section (Tek Kayıt Olacak)
model WhyChooseSection {
  id           String   @id @default("main") // Sabit ID, sadece bir tane olacak
  createdAt    DateTime @default(now())
  updatedAt    DateTime @updatedAt
  translations WhyChooseSectionTranslation[]
}

// Why Choose Section Çevirileri (Dile özgü metinler)
model WhyChooseSectionTranslation {
  id                    String            @id @default(cuid())
  whyChooseSection      WhyChooseSection  @relation(fields: [whyChooseSectionId], references: [id], onDelete: Cascade)
  whyChooseSectionId    String            // Sabit olarak "main" olacak
  language              Language          @relation(fields: [languageCode], references: [code], onDelete: Cascade)
  languageCode          String

  // Video
  youtubeVideoId        String            // YouTube video ID'si (embed için)

  // Başlık ve Açıklama
  title                 String            // Bölüm başlığı
  description           String            @db.Text // Bölüm açıklaması

  // Butonlar
  primaryButtonText     String            // İlk buton metni
  primaryButtonLink     String            // İlk buton bağlantısı
  secondaryButtonText   String            // İkinci buton metni
  secondaryButtonLink   String            // İkinci buton bağlantısı

  @@unique([whyChooseSectionId, languageCode])
}

// ----- ANA SAYFA TREATMENTS SECTION MODELLERİ -----

// Ana Sayfa Treatments Section İçeriği (Tek Kayıt Olacak)
model TreatmentSectionContent {
  id           String   @id @default("main") // Sabit ID, sadece bir tane olacak
  createdAt    DateTime @default(now())
  updatedAt    DateTime @updatedAt

  avatars      TreatmentSectionAvatar[]
  translations TreatmentSectionContentTranslation[]
}

model TreatmentSectionContentTranslation {
  id                         String                  @id @default(cuid())
  treatmentSectionContent    TreatmentSectionContent @relation(fields: [treatmentSectionContentId], references: [id], onDelete: Cascade)
  treatmentSectionContentId  String                  // Sabit olarak "main" olacak
  language                   Language                @relation(fields: [languageCode], references: [code], onDelete: Cascade)
  languageCode               String

  mainTitle                  String    // "Comprehensive Healthcare Solutions Tailored for You"
  mainDescription            String    @db.Text // Altındaki uzun açıklama
  exploreButtonText          String    // "Explore Our Treatments"
  exploreButtonLink          String    // "/treatments"
  avatarGroupText            String    // "10,000+ Successful Treatments, Your Health in Trusted Hands"

  createdAt                  DateTime  @default(now())
  updatedAt                  DateTime  @updatedAt

  @@unique([treatmentSectionContentId, languageCode])
}

// Treatments Section için Avatar Resimleri
model TreatmentSectionAvatar {
  id                        String                  @id @default(cuid())
  imageUrl                  String
  altText                   String?
  order                     Int                     @default(0)
  treatmentSectionContent   TreatmentSectionContent @relation(fields: [treatmentSectionContentId], references: [id], onDelete: Cascade)
  treatmentSectionContentId String                  // Sabit olarak "main" olacak
  createdAt                 DateTime                @default(now())
  updatedAt                 DateTime                @updatedAt
}

// Ana Sayfa Treatments Section - Tedavi Kartı Öğesi (Dil Bağımsız)
model TreatmentSectionItem {
  id            String   @id @default(cuid())
  imageUrl      String
  order         Int      @default(0)
  isPublished   Boolean  @default(true)
  createdAt     DateTime @default(now())
  updatedAt     DateTime @updatedAt

  translations  TreatmentSectionItemTranslation[]
}

// Ana Sayfa Treatments Section - Tedavi Kartı Çevirisi (Dile Özgü)
model TreatmentSectionItemTranslation {
  id                      String                @id @default(cuid())
  treatmentSectionItem    TreatmentSectionItem  @relation(fields: [treatmentSectionItemId], references: [id], onDelete: Cascade)
  treatmentSectionItemId  String
  language                Language              @relation(fields: [languageCode], references: [code], onDelete: Cascade)
  languageCode            String

  title                   String
  description             String    @db.Text
  linkUrl                 String

  createdAt               DateTime  @default(now())
  updatedAt               DateTime  @updatedAt

  @@unique([treatmentSectionItemId, languageCode])
}

// ----- ANA SAYFA CLINIC SHOWCASE BÖLÜMÜ MODELLERİ -----

// Ana Sayfa Clinic Showcase Bölümü (Ana İçerik)
model ClinicShowcase {
  id            String    @id @default("main") // Sabit ID, tek bir kayıt olacak
  createdAt     DateTime  @default(now())
  updatedAt     DateTime  @updatedAt

  translations  ClinicShowcaseTranslation[]
  images        ClinicShowcaseImage[] // Kayan resimler
}

// Ana Sayfa Clinic Showcase Çevirileri (Dile Özgü İçerik)
model ClinicShowcaseTranslation {
  id              String          @id @default(cuid())
  clinicShowcase  ClinicShowcase  @relation(fields: [clinicShowcaseId], references: [id], onDelete: Cascade)
  clinicShowcaseId String
  language        Language        @relation(fields: [languageCode], references: [code], onDelete: Cascade)
  languageCode    String

  title           String          // Başlık (State-of-the-Art Clinic in Istanbul)
  description     String          @db.Text // Açıklama metni
  buttonText      String          // Buton metni (Explore Our Clinic)
  buttonLink      String          // Buton linki (/klinigimiz)

  createdAt       DateTime        @default(now())
  updatedAt       DateTime        @updatedAt

  @@unique([clinicShowcaseId, languageCode])
}

// Clinic Showcase Resim Galerisi
model ClinicShowcaseImage {
  id              String        @id @default(cuid())
  imageUrl        String        // Resim URL'si
  altText         String?       // Alt metni (SEO için)
  order           Int           @default(0) // Sıralama
  isPublished     Boolean       @default(true)
  clinicShowcase  ClinicShowcase @relation(fields: [clinicShowcaseId], references: [id], onDelete: Cascade)
  clinicShowcaseId String
  createdAt       DateTime      @default(now())
  updatedAt       DateTime      @updatedAt
}


// ----- MENÜ YÖNETİMİ MODELLERİ -----

enum MenuItemType {
  LINK
  BLOG_POST
  SERVICE_PAGE
}

// ----- HEADER MENÜ MODELLERİ -----

model HeaderMenu {
  id        String    @id @default(cuid())
  isActive  Boolean   @default(true)
  createdAt DateTime  @default(now())
  updatedAt DateTime  @updatedAt
  items     HeaderMenuItem[]
  translations HeaderMenuTranslation[]
}

model HeaderMenuTranslation {
  id            String     @id @default(cuid())
  headerMenu    HeaderMenu @relation(fields: [headerMenuId], references: [id], onDelete: Cascade)
  headerMenuId  String
  language      Language   @relation(fields: [languageCode], references: [code], onDelete: Cascade)
  languageCode  String
  name          String
  createdAt     DateTime   @default(now())
  updatedAt     DateTime   @updatedAt

  @@unique([headerMenuId, languageCode])
}

model HeaderMenuItem {
  id            String        @id @default(cuid())
  headerMenu    HeaderMenu    @relation(fields: [headerMenuId], references: [id], onDelete: Cascade)
  headerMenuId  String
  order         Int           @default(0)
  itemType      MenuItemType
  linkUrl       String?
  blogPost      Blog?         @relation("HeaderMenuToBlogPost", fields: [blogPostId], references: [id], onDelete:SetNull)
  blogPostId    String?
  hizmet        Hizmet?       @relation("HeaderMenuToHizmet", fields: [hizmetId], references: [id], onDelete:SetNull)
  hizmetId      String?
  openInNewTab  Boolean       @default(false)
  isActive      Boolean       @default(true)
  parentId      String?
  parent        HeaderMenuItem? @relation("HeaderSubMenuItems", fields: [parentId], references: [id], onDelete:Cascade)
  children      HeaderMenuItem[] @relation("HeaderSubMenuItems")
  createdAt     DateTime      @default(now())
  updatedAt     DateTime      @updatedAt
  translations  HeaderMenuItemTranslation[]

  @@index([headerMenuId])
  @@index([parentId])
  @@index([blogPostId])
  @@index([hizmetId])
}

model HeaderMenuItemTranslation {
  id              String          @id @default(cuid())
  headerMenuItem  HeaderMenuItem  @relation(fields: [headerMenuItemId], references: [id], onDelete: Cascade)
  headerMenuItemId String
  language        Language        @relation(fields: [languageCode], references: [code], onDelete: Cascade)
  languageCode    String
  title           String
  createdAt       DateTime        @default(now())
  updatedAt       DateTime        @updatedAt

  @@unique([headerMenuItemId, languageCode])
}

// ----- FOOTER MENÜ MODELLERİ -----

model FooterMenu {
  id        String    @id @default(cuid())
  order     Int       @default(0)
  isActive  Boolean   @default(true)
  createdAt DateTime  @default(now())
  updatedAt DateTime  @updatedAt
  items     FooterMenuItem[]
  translations FooterMenuTranslation[]
}

model FooterMenuTranslation {
  id            String     @id @default(cuid())
  footerMenu    FooterMenu @relation(fields: [footerMenuId], references: [id], onDelete: Cascade)
  footerMenuId  String
  language      Language   @relation(fields: [languageCode], references: [code], onDelete: Cascade)
  languageCode  String
  name          String
  createdAt     DateTime   @default(now())
  updatedAt     DateTime   @updatedAt

  @@unique([footerMenuId, languageCode])
}

model FooterMenuItem {
  id            String        @id @default(cuid())
  footerMenu    FooterMenu    @relation(fields: [footerMenuId], references: [id], onDelete: Cascade)
  footerMenuId  String
  order         Int           @default(0)
  itemType      MenuItemType
  linkUrl       String?
  blogPost      Blog?         @relation("FooterMenuToBlogPost", fields: [blogPostId], references: [id], onDelete:SetNull)
  blogPostId    String?
  hizmet        Hizmet?       @relation("FooterMenuToHizmet", fields: [hizmetId], references: [id], onDelete:SetNull)
  hizmetId      String?
  openInNewTab  Boolean       @default(false)
  isActive      Boolean       @default(true)
  createdAt     DateTime      @default(now())
  updatedAt     DateTime      @updatedAt
  translations  FooterMenuItemTranslation[]

  @@index([footerMenuId])
  @@index([blogPostId])
  @@index([hizmetId])
}

model FooterMenuItemTranslation {
  id              String          @id @default(cuid())
  footerMenuItem  FooterMenuItem  @relation(fields: [footerMenuItemId], references: [id], onDelete: Cascade)
  footerMenuItemId String
  language        Language        @relation(fields: [languageCode], references: [code], onDelete: Cascade)
  languageCode    String
  title           String
  createdAt       DateTime        @default(now())
  updatedAt       DateTime        @updatedAt

  @@unique([footerMenuItemId, languageCode])
}

// ----- ANA SAYFA WHY TRUST SECTION MODELLERİ -----

// Ana Sayfa Why Trust Section (Tek Kayıt Olacak)
model WhyTrustSection {
  id                String   @id @default("main") // Sabit ID, sadece bir tane olacak
  backgroundImage   String?  // Arka plan görseli (dosya yolu)
  createdAt         DateTime @default(now())
  updatedAt         DateTime @updatedAt
  translations      WhyTrustSectionTranslation[]
  trustPoints       WhyTrustPoint[]
}

// Why Trust Section Çevirileri (Dile özgü metinler)
model WhyTrustSectionTranslation {
  id                 String           @id @default(cuid())
  whyTrustSection    WhyTrustSection  @relation(fields: [whyTrustSectionId], references: [id], onDelete: Cascade)
  whyTrustSectionId  String           // Sabit olarak "main" olacak
  language           Language         @relation(fields: [languageCode], references: [code], onDelete: Cascade)
  languageCode       String

  // Ana başlık ve alt başlık
  title              String          // "Why Trust Celyxmed?"
  subtitle           String          // "Your Health, Our Priority"

  createdAt          DateTime        @default(now())
  updatedAt          DateTime        @updatedAt

  @@unique([whyTrustSectionId, languageCode])
}

// Trust Point Modeli (Dil Bağımsız)
model WhyTrustPoint {
  id                String          @id @default(cuid())
  whyTrustSection   WhyTrustSection @relation(fields: [whyTrustSectionId], references: [id], onDelete: Cascade)
  whyTrustSectionId String          // Sabit olarak "main" olacak
  number            String          // "01", "02", vb.
  order             Int             @default(0)
  createdAt         DateTime        @default(now())
  updatedAt         DateTime        @updatedAt
  translations      WhyTrustPointTranslation[]
}

// Trust Point Çevirileri (Dile Özgü)
model WhyTrustPointTranslation {
  id              String        @id @default(cuid())
  whyTrustPoint   WhyTrustPoint @relation(fields: [whyTrustPointId], references: [id], onDelete: Cascade)
  whyTrustPointId String
  language        Language      @relation(fields: [languageCode], references: [code], onDelete: Cascade)
  languageCode    String

  title           String        // "Experienced Specialists" gibi
  description     String        // Açıklama metni

  createdAt       DateTime      @default(now())
  updatedAt       DateTime      @updatedAt

  @@unique([whyTrustPointId, languageCode])
}

// ----- ANA SAYFA SUCCESS STORIES SECTION MODELLERİ -----

// Ana Sayfa Success Stories Section (Tek Kayıt Olacak)
model SuccessStoriesSection {
  id              String   @id @default("main") // Sabit ID, sadece bir tane olacak
  createdAt       DateTime @default(now())
  updatedAt       DateTime @updatedAt

  // İlişkiler
  translations    SuccessStoriesSectionTranslation[]
  galleryImages   SuccessStoriesImage[]
  testimonials    SuccessStoriesTestimonial[]
}

// Success Stories Section Çevirileri (Dile özgü metinler)
model SuccessStoriesSectionTranslation {
  id                      String                @id @default(cuid())
  successStoriesSection   SuccessStoriesSection @relation(fields: [successStoriesSectionId], references: [id], onDelete: Cascade)
  successStoriesSectionId String                // Sabit olarak "main" olacak
  language                Language              @relation(fields: [languageCode], references: [code], onDelete: Cascade)
  languageCode            String

  // Ana başlık ve açıklama
  title                   String                // "10,000+ Successful Treatments, Your Health in Trusted Hands"
  description             String                // Açıklama metni

  // Butonlar
  consultButtonText       String?               // "Book Your Free Consultation"
  consultButtonLink       String?               // "/contact"

  discoverButtonText      String?               // "Discover Success Stories and Before, Afters"
  discoverButtonLink      String?               // "/success-stories"

  createdAt               DateTime              @default(now())
  updatedAt               DateTime              @updatedAt

  @@unique([successStoriesSectionId, languageCode])
}

// Success Stories Galeri Görselleri
model SuccessStoriesImage {
  id                      String                @id @default(cuid())
  successStoriesSection   SuccessStoriesSection @relation(fields: [successStoriesSectionId], references: [id], onDelete: Cascade)
  successStoriesSectionId String                // Sabit olarak "main" olacak

  imageUrl                String                // Görsel dosya yolu
  altText                 String?               // Alt text
  order                   Int                   @default(0) // Sıralama

  createdAt               DateTime              @default(now())
  updatedAt               DateTime              @updatedAt
}

// Success Stories Hasta Yorumları
model SuccessStoriesTestimonial {
  id                      String                @id @default(cuid())
  successStoriesSection   SuccessStoriesSection @relation(fields: [successStoriesSectionId], references: [id], onDelete: Cascade)
  successStoriesSectionId String                // Sabit olarak "main" olacak

  stars                   Int                   @default(5) // Yıldız sayısı (1-5)
  imageUrl                String?               // Hasta fotoğrafı
  order                   Int                   @default(0) // Sıralama

  // İlişkiler
  translations            SuccessStoriesTestimonialTranslation[]

  createdAt               DateTime              @default(now())
  updatedAt               DateTime              @updatedAt
}

// Success Stories Hasta Yorumları Çevirileri
model SuccessStoriesTestimonialTranslation {
  id                      String                  @id @default(cuid())
  testimonial             SuccessStoriesTestimonial @relation(fields: [testimonialId], references: [id], onDelete: Cascade)
  testimonialId           String
  language                Language                @relation(fields: [languageCode], references: [code], onDelete: Cascade)
  languageCode            String

  text                    String                  // Yorum metni
  author                  String                  // Hasta adı ve ülkesi
  treatment               String                  // Tedavi adı

  createdAt               DateTime                @default(now())
  updatedAt               DateTime                @updatedAt

  @@unique([testimonialId, languageCode])
}

// ----- ANA SAYFA CONSULT ONLINE SECTION MODELLERİ -----

// Ana Sayfa Consult Online Section (Tek Kayıt Olacak)
model ConsultOnlineSection {
  id                String   @id @default("main") // Sabit ID, sadece bir tane olacak
  imageUrl          String?  // Ana resim URL'si
  createdAt         DateTime @default(now())
  updatedAt         DateTime @updatedAt

  // İlişkiler
  translations      ConsultOnlineSectionTranslation[]
  doctorAvatars     ConsultOnlineDoctorAvatar[]
}

// Consult Online Section Çevirileri (Dile özgü metinler)
model ConsultOnlineSectionTranslation {
  id                      String                @id @default(cuid())
  consultOnlineSection    ConsultOnlineSection  @relation(fields: [consultOnlineSectionId], references: [id], onDelete: Cascade)
  consultOnlineSectionId  String                // Sabit olarak "main" olacak
  language                Language              @relation(fields: [languageCode], references: [code], onDelete: Cascade)
  languageCode            String

  // Tag line - "Be Your Best"
  tagText                 String

  // Ana başlık ve açıklama
  title                   String                // "Consult with Our Doctors Online"
  description             String                // Açıklama metni

  // Avatar metin "Choose Your Doctor, Ask Your Questions"
  avatarText              String

  // Buton
  buttonText              String                // "Book Your Free Consultation Today"
  buttonLink              String                // "/contact"

  createdAt               DateTime              @default(now())
  updatedAt               DateTime              @updatedAt

  @@unique([consultOnlineSectionId, languageCode])
}

// Consult Online Doktor Avatarları
model ConsultOnlineDoctorAvatar {
  id                      String                @id @default(cuid())
  consultOnlineSection    ConsultOnlineSection  @relation(fields: [consultOnlineSectionId], references: [id], onDelete: Cascade)
  consultOnlineSectionId  String                // Sabit olarak "main" olacak

  imageUrl                String                // Doktor avatar URL'si
  altText                 String?               // Alt text
  order                   Int                   @default(0) // Sıralama

  createdAt               DateTime              @default(now())
  updatedAt               DateTime              @updatedAt
}

// ----- SSS (SIKÇA SORULAN SORULAR) MODELLERİ -----

// SSS Ana Modeli (Dil Bağımsız)
model Faq {
  id          String   @id @default(cuid())
  order       Int      @default(0) // SSS öğesinin sıralaması
  isPublished Boolean  @default(true) // SSS öğesinin yayınlanıp yayınlanmadığı
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  translations FaqTranslation[]
}

// SSS Çeviri Modeli (Dile Özgü Soru ve Cevap)
model FaqTranslation {
  id        String   @id @default(cuid())
  faq       Faq      @relation(fields: [faqId], references: [id], onDelete: Cascade)
  faqId     String
  language  Language @relation(fields: [languageCode], references: [code], onDelete: Cascade)
  languageCode String

  question  String   // Soru metni
  answer    String   @db.Text // Cevap metni (HTML içerebilir)

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@unique([faqId, languageCode])
}

// ----- ANA SAYFA ÖZELLİK SEKMELERİ (FEATURES TABS) MODELLERİ -----

// Ana Sayfa Özellik Sekme Öğesi (Dil Bağımsız)
model HomePageFeatureTabItem {
  id            String   @id @default(cuid())
  value         String   // Sekme için benzersiz bir değer (örn: "modern-care")
  imageUrl      String   // Sekmeye ait görselin URL'si
  order         Int      @default(0) // Sekmelerin sıralaması
  isPublished   Boolean  @default(true) // Sekmenin yayınlanıp yayınlanmadığı
  createdAt     DateTime @default(now())
  updatedAt     DateTime @updatedAt

  translations  HomePageFeatureTabItemTranslation[]

  // Opsiyonel: Eğer bu sekmeler genel bir "FeaturesTabsSection" altına toplanacaksa
  // section       HomePageFeaturesTabsSection @relation(fields: [sectionId], references: [id], onDelete: Cascade)
  // sectionId     String // Genellikle "main" olurdu

  @@unique([value]) // `value` alanı benzersiz olmalı (eğer sectionId yoksa)
  // @@unique([sectionId, value]) // Eğer sectionId varsa
}

// Ana Sayfa Özellik Sekme Öğesi Çevirisi (Dile Özgü)
model HomePageFeatureTabItemTranslation {
  id            String                  @id @default(cuid())
  tabItem       HomePageFeatureTabItem  @relation(fields: [tabItemId], references: [id], onDelete: Cascade)
  tabItemId     String
  language      Language                @relation(fields: [languageCode], references: [code], onDelete: Cascade)
  languageCode  String

  triggerText   String                  // Sekme başlığı (örn: "Modern Care")
  tagText       String                  // Etiket (örn: "Advanced Clinic. Trusted Care.")
  heading       String                  // İçerik başlığı (örn: "World-Class Healthcare...")
  description   String                  @db.Text // İçerik açıklaması
  buttonText    String                  // Buton metni
  buttonLink    String                  // Buton yönlendirme linki

  createdAt     DateTime                @default(now())
  updatedAt     DateTime                @updatedAt

  @@unique([tabItemId, languageCode])
}
